{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/M.A/Downloads/pwyash-react-quizz-app-main/pwyash-react-quizz-app-main/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"C:/Users/M.A/Downloads/pwyash-react-quizz-app-main/pwyash-react-quizz-app-main/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/Users/M.A/Downloads/pwyash-react-quizz-app-main/pwyash-react-quizz-app-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/M.A/Downloads/pwyash-react-quizz-app-main/pwyash-react-quizz-app-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import\"./App.css\";import QuizView from\"./components/QuizView\";import ScoreView from\"./components/ScoreView\";import TopBar from\"./components/TopBar\";// Ensure this import is present\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),questions=_useState2[0],setQuestions=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),currentQuestion=_useState4[0],setCurrentQuestion=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isQuizOver=_useState6[0],setIsQuizOver=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),score=_useState8[0],setScore=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),userAnswers=_useState10[0],setUserAnswers=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),quizStarted=_useState12[0],setQuizStarted=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isLoading=_useState14[0],setIsLoading=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),selectedCategory=_useState16[0],setSelectedCategory=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),alert=_useState18[0],setAlert=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),alertType=_useState20[0],setAlertType=_useState20[1];var categories=[{name:\"Select a category\",id:\"\"},{name:\"Computer\",id:18},{name:\"Politics\",id:24},{name:\"Sports\",id:21},{name:\"General Knowledge\",id:9},{name:\"History\",id:23}];useEffect(function(){var fetchQuestions=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,formattedQuestions;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(selectedCategory){_context.next=2;break;}return _context.abrupt(\"return\");case 2:setIsLoading(true);_context.prev=3;_context.next=6;return fetch(\"https://opentdb.com/api.php?amount=10&category=\".concat(selectedCategory,\"&type=multiple\"));case 6:response=_context.sent;_context.next=9;return response.json();case 9:data=_context.sent;if(data.results){formattedQuestions=data.results.map(function(q){return{question:q.question,correctAnswer:q.correct_answer,answers:[].concat(_toConsumableArray(q.incorrect_answers),[q.correct_answer]).sort(function(){return Math.random()-0.5;}).map(function(answer){return{text:answer,isCorrect:answer===q.correct_answer};})};});setQuestions(formattedQuestions);}else{console.error(\"Unexpected data format:\",data);}_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](3);console.error(\"Error fetching questions:\",_context.t0);case 16:_context.prev=16;setIsLoading(false);return _context.finish(16);case 19:case\"end\":return _context.stop();}},_callee,null,[[3,13,16,19]]);}));return function fetchQuestions(){return _ref.apply(this,arguments);};}();fetchQuestions();},[selectedCategory]);var handleAnswerClick=function handleAnswerClick(isCorrect,answer){if(isCorrect){setScore(score+1);if(score+1===5){showAlert(\"You have 5 correct answers!\",\"alert-primary\");}}else{showAlert(\"Wrong answer! Try again.\",\"alert-danger\");}setUserAnswers([].concat(_toConsumableArray(userAnswers),[{answer:answer,isCorrect:isCorrect}]));var next=currentQuestion+1;if(next<questions.length)setCurrentQuestion(next);else setIsQuizOver(true);};var handleResetClick=function handleResetClick(){setScore(0);setCurrentQuestion(0);setIsQuizOver(false);setUserAnswers([]);setQuizStarted(false);setSelectedCategory(\"\");setAlert(\"\");// Clear alert on reset\n};var handleStartQuiz=function handleStartQuiz(){setQuizStarted(true);showAlert(\"Welcome to the Quiz!\",\"alert-success\");};var showAlert=function showAlert(message,type){setAlert(message);setAlertType(type);setTimeout(function(){setAlert(\"\");},3000);};useEffect(function(){if(isQuizOver){if(score>=5){showAlert(\"Congratulations! You passed the quiz!\",\"alert-success\");new Audio(process.env.PUBLIC_URL+'/sounds/pass.mp4').play();// Play pass sound\n}else{showAlert(\"You failed the quiz. Better luck next time!\",\"alert-danger\");new Audio(process.env.PUBLIC_URL+'/sounds/fail.mp4').play();// Play fail sound\n}}},[isQuizOver,score]);// Include score as a dependency\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(TopBar,{}),alert&&/*#__PURE__*/_jsx(\"div\",{className:\"alert \".concat(alertType),role:\"alert\",children:alert}),!quizStarted?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to the Quiz!\"}),/*#__PURE__*/_jsx(\"select\",{value:selectedCategory,onChange:function onChange(e){return setSelectedCategory(e.target.value);},children:categories.map(function(category){return/*#__PURE__*/_jsx(\"option\",{value:category.id,children:category.name},category.id);})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleStartQuiz,disabled:!selectedCategory,children:\"Get Started\"})]}):isLoading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading questions...\"}):isQuizOver?/*#__PURE__*/_jsx(ScoreView,{handleResetClick:handleResetClick,score:score,totalQuestions:questions.length,userAnswers:userAnswers}):questions.length>0&&/*#__PURE__*/_jsx(QuizView,{questions:questions,currentQuestion:currentQuestion,handleAnswerClick:handleAnswerClick})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","QuizView","ScoreView","TopBar","App","questions","setQuestions","currentQuestion","setCurrentQuestion","isQuizOver","setIsQuizOver","score","setScore","userAnswers","setUserAnswers","quizStarted","setQuizStarted","isLoading","setIsLoading","selectedCategory","setSelectedCategory","alert","setAlert","alertType","setAlertType","categories","name","id","fetchQuestions","fetch","response","json","data","results","formattedQuestions","map","q","question","correctAnswer","correct_answer","answers","incorrect_answers","sort","Math","random","answer","text","isCorrect","console","error","handleAnswerClick","showAlert","next","length","handleResetClick","handleStartQuiz","message","type","setTimeout","Audio","process","env","PUBLIC_URL","play","e","target","value","category"],"sources":["C:/Users/M.A/Downloads/pwyash-react-quizz-app-main/pwyash-react-quizz-app-main/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport QuizView from \"./components/QuizView\";\nimport ScoreView from \"./components/ScoreView\";\nimport TopBar from \"./components/TopBar\"; // Ensure this import is present\n\nfunction App() {\n  const [questions, setQuestions] = useState([]);\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const [isQuizOver, setIsQuizOver] = useState(false);\n  const [score, setScore] = useState(0);\n  const [userAnswers, setUserAnswers] = useState([]);\n  const [quizStarted, setQuizStarted] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\n  const [alert, setAlert] = useState(\"\");\n  const [alertType, setAlertType] = useState(\"\");\n\n  const categories = [\n    { name: \"Select a category\", id: \"\" },\n    { name: \"Computer\", id: 18 },\n    { name: \"Politics\", id: 24 },\n    { name: \"Sports\", id: 21 },\n    { name: \"General Knowledge\", id: 9 },\n    { name: \"History\", id: 23 },\n  ];\n\n  useEffect(() => {\n    const fetchQuestions = async () => {\n      if (!selectedCategory) return;\n      setIsLoading(true);\n      try {\n        const response = await fetch(`https://opentdb.com/api.php?amount=10&category=${selectedCategory}&type=multiple`);\n        const data = await response.json();\n\n        if (data.results) {\n          const formattedQuestions = data.results.map(q => ({\n            question: q.question,\n            correctAnswer: q.correct_answer,\n            answers: [...q.incorrect_answers, q.correct_answer].sort(() => Math.random() - 0.5).map(answer => ({\n              text: answer,\n              isCorrect: answer === q.correct_answer,\n            })),\n          }));\n          setQuestions(formattedQuestions);\n        } else {\n          console.error(\"Unexpected data format:\", data);\n        }\n      } catch (error) {\n        console.error(\"Error fetching questions:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchQuestions();\n  }, [selectedCategory]);\n\n  const handleAnswerClick = (isCorrect, answer) => {\n    if (isCorrect) {\n      setScore(score + 1);\n      if (score + 1 === 5) {\n        showAlert(\"You have 5 correct answers!\", \"alert-primary\");\n      }\n    } else {\n      showAlert(\"Wrong answer! Try again.\", \"alert-danger\");\n    }\n    setUserAnswers([...userAnswers, { answer, isCorrect }]);\n\n    const next = currentQuestion + 1;\n    if (next < questions.length) setCurrentQuestion(next);\n    else setIsQuizOver(true);\n  };\n\n  const handleResetClick = () => {\n    setScore(0);\n    setCurrentQuestion(0);\n    setIsQuizOver(false);\n    setUserAnswers([]);\n    setQuizStarted(false);\n    setSelectedCategory(\"\");\n    setAlert(\"\"); // Clear alert on reset\n  };\n\n  const handleStartQuiz = () => {\n    setQuizStarted(true);\n    showAlert(\"Welcome to the Quiz!\", \"alert-success\");\n  };\n\n  const showAlert = (message, type) => {\n    setAlert(message);\n    setAlertType(type);\n    setTimeout(() => {\n      setAlert(\"\");\n    }, 3000);\n  };\n\n  useEffect(() => {\n    if (isQuizOver) {\n      if (score >= 5) {\n        showAlert(\"Congratulations! You passed the quiz!\", \"alert-success\");\n        new Audio(process.env.PUBLIC_URL + '/sounds/pass.mp4').play(); // Play pass sound\n      } else {\n        showAlert(\"You failed the quiz. Better luck next time!\", \"alert-danger\");\n        new Audio(process.env.PUBLIC_URL + '/sounds/fail.mp4').play(); // Play fail sound\n      }\n    }\n  }, [isQuizOver, score]); // Include score as a dependency\n\n  return (\n    <div className=\"App\">\n      <TopBar /> \n      {alert && <div className={`alert ${alertType}`} role=\"alert\">{alert}</div>}\n      {!quizStarted ? (\n        <div>\n          <h1>Welcome to the Quiz!</h1>\n          <select\n            value={selectedCategory}\n            onChange={(e) => setSelectedCategory(e.target.value)}\n          >\n            {categories.map((category) => (\n              <option key={category.id} value={category.id}>\n                {category.name}\n              </option>\n            ))}\n          </select>\n          <button\n            onClick={handleStartQuiz}\n            disabled={!selectedCategory}\n          >\n            Get Started\n          </button>\n        </div>\n      ) : isLoading ? (\n        <div>Loading questions...</div>\n      ) : isQuizOver ? (\n        <ScoreView \n          handleResetClick={handleResetClick} \n          score={score} \n          totalQuestions={questions.length} \n          userAnswers={userAnswers} \n        />\n      ) : (\n        questions.length > 0 && (\n          <QuizView\n            questions={questions}\n            currentQuestion={currentQuestion}\n            handleAnswerClick={handleAnswerClick}\n          />\n        )\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}